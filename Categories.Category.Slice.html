<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Categories.Category.Slice</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Pragma">--safe</a> <a id="32" class="Symbol">#-}</a>
<a id="36" class="Keyword">open</a> <a id="41" class="Keyword">import</a> <a id="48" href="Categories.Category.Core.html" class="Module">Categories.Category.Core</a>

<a id="74" class="Comment">-- slice category (https://ncatlab.org/nlab/show/over+category)</a>
<a id="138" class="Comment">-- TODO: Forgetful Functor from Slice to 𝒞</a>
<a id="181" class="Keyword">module</a> <a id="188" href="Categories.Category.Slice.html" class="Module">Categories.Category.Slice</a> <a id="214" class="Symbol">{</a><a id="215" href="Categories.Category.Slice.html#215" class="Bound">o</a> <a id="217" href="Categories.Category.Slice.html#217" class="Bound">ℓ</a> <a id="219" href="Categories.Category.Slice.html#219" class="Bound">e</a><a id="220" class="Symbol">}</a> <a id="222" class="Symbol">(</a><a id="223" href="Categories.Category.Slice.html#223" class="Bound">𝒞</a> <a id="225" class="Symbol">:</a> <a id="227" href="Categories.Category.Core.html#375" class="Record">Category</a> <a id="236" href="Categories.Category.Slice.html#215" class="Bound">o</a> <a id="238" href="Categories.Category.Slice.html#217" class="Bound">ℓ</a> <a id="240" href="Categories.Category.Slice.html#219" class="Bound">e</a><a id="241" class="Symbol">)</a> <a id="243" class="Keyword">where</a>

<a id="250" class="Keyword">open</a> <a id="255" href="Categories.Category.Core.html#375" class="Module">Category</a> <a id="264" href="Categories.Category.Slice.html#223" class="Bound">𝒞</a>
<a id="266" class="Keyword">open</a> <a id="271" href="Categories.Category.Core.html#2040" class="Module">HomReasoning</a>
<a id="284" class="Keyword">open</a> <a id="289" href="Categories.Category.Core.html#1463" class="Module">Equiv</a>

<a id="296" class="Keyword">open</a> <a id="301" class="Keyword">import</a> <a id="308" href="Level.html" class="Module">Level</a>
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Function.Base.html" class="Module">Function.Base</a> <a id="340" class="Keyword">using</a> <a id="346" class="Symbol">(</a><a id="347" href="Function.Base.html#1538" class="Function Operator">_$_</a><a id="350" class="Symbol">)</a>
<a id="352" class="Keyword">open</a> <a id="357" class="Keyword">import</a> <a id="364" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a> <a id="385" class="Keyword">using</a> <a id="391" class="Symbol">(</a><a id="392" href="Relation.Binary.Core.html#845" class="Function">Rel</a><a id="395" class="Symbol">)</a>

<a id="398" class="Keyword">open</a> <a id="403" class="Keyword">import</a> <a id="410" href="Categories.Morphism.Reasoning.html" class="Module">Categories.Morphism.Reasoning</a> <a id="440" href="Categories.Category.Slice.html#223" class="Bound">𝒞</a>

<a id="443" class="Keyword">record</a> <a id="SliceObj"></a><a id="450" href="Categories.Category.Slice.html#450" class="Record">SliceObj</a> <a id="459" class="Symbol">(</a><a id="460" href="Categories.Category.Slice.html#460" class="Bound">X</a> <a id="462" class="Symbol">:</a> <a id="464" href="Categories.Category.Core.html#492" class="Field">Obj</a><a id="467" class="Symbol">)</a> <a id="469" class="Symbol">:</a> <a id="471" class="PrimitiveType">Set</a> <a id="475" class="Symbol">(</a><a id="476" href="Categories.Category.Slice.html#215" class="Bound">o</a> <a id="478" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="480" href="Categories.Category.Slice.html#217" class="Bound">ℓ</a><a id="481" class="Symbol">)</a> <a id="483" class="Keyword">where</a>
  <a id="491" class="Keyword">constructor</a> <a id="sliceobj"></a><a id="503" href="Categories.Category.Slice.html#503" class="InductiveConstructor">sliceobj</a>
  <a id="514" class="Keyword">field</a>
    <a id="524" class="Symbol">{</a><a id="SliceObj.Y"></a><a id="525" href="Categories.Category.Slice.html#525" class="Field">Y</a><a id="526" class="Symbol">}</a> <a id="528" class="Symbol">:</a> <a id="530" href="Categories.Category.Core.html#492" class="Field">Obj</a>
    <a id="SliceObj.arr"></a><a id="538" href="Categories.Category.Slice.html#538" class="Field">arr</a> <a id="542" class="Symbol">:</a> <a id="544" href="Categories.Category.Slice.html#525" class="Field">Y</a> <a id="546" href="Categories.Category.Core.html#508" class="Field Operator">⇒</a> <a id="548" href="Categories.Category.Slice.html#460" class="Bound">X</a>

<a id="551" class="Keyword">private</a>
  <a id="561" class="Keyword">variable</a>
    <a id="574" href="Categories.Category.Slice.html#574" class="Generalizable">A</a> <a id="576" class="Symbol">:</a> <a id="578" href="Categories.Category.Core.html#492" class="Field">Obj</a>
    <a id="586" href="Categories.Category.Slice.html#586" class="Generalizable">X</a> <a id="588" href="Categories.Category.Slice.html#588" class="Generalizable">Y</a> <a id="590" href="Categories.Category.Slice.html#590" class="Generalizable">Z</a> <a id="592" class="Symbol">:</a> <a id="594" href="Categories.Category.Slice.html#450" class="Record">SliceObj</a> <a id="603" href="Categories.Category.Slice.html#574" class="Generalizable">A</a>

<a id="606" class="Keyword">record</a> <a id="Slice⇒"></a><a id="613" href="Categories.Category.Slice.html#613" class="Record">Slice⇒</a> <a id="620" class="Symbol">{</a><a id="621" href="Categories.Category.Slice.html#621" class="Bound">A</a> <a id="623" class="Symbol">:</a> <a id="625" href="Categories.Category.Core.html#492" class="Field">Obj</a><a id="628" class="Symbol">}</a> <a id="630" class="Symbol">(</a><a id="631" href="Categories.Category.Slice.html#631" class="Bound">X</a> <a id="633" href="Categories.Category.Slice.html#633" class="Bound">Y</a> <a id="635" class="Symbol">:</a> <a id="637" href="Categories.Category.Slice.html#450" class="Record">SliceObj</a> <a id="646" href="Categories.Category.Slice.html#621" class="Bound">A</a><a id="647" class="Symbol">)</a> <a id="649" class="Symbol">:</a> <a id="651" class="PrimitiveType">Set</a> <a id="655" class="Symbol">(</a><a id="656" href="Categories.Category.Slice.html#217" class="Bound">ℓ</a> <a id="658" href="Agda.Primitive.html#636" class="Primitive Operator">⊔</a> <a id="660" href="Categories.Category.Slice.html#219" class="Bound">e</a><a id="661" class="Symbol">)</a> <a id="663" class="Keyword">where</a>
  <a id="671" class="Keyword">constructor</a> <a id="slicearr"></a><a id="683" href="Categories.Category.Slice.html#683" class="InductiveConstructor">slicearr</a>
  <a id="694" class="Keyword">module</a> <a id="X"></a><a id="701" href="Categories.Category.Slice.html#701" class="Module">X</a> <a id="703" class="Symbol">=</a> <a id="705" href="Categories.Category.Slice.html#450" class="Module">SliceObj</a> <a id="714" href="Categories.Category.Slice.html#631" class="Bound">X</a>
  <a id="718" class="Keyword">module</a> <a id="Y"></a><a id="725" href="Categories.Category.Slice.html#725" class="Module">Y</a> <a id="727" class="Symbol">=</a> <a id="729" href="Categories.Category.Slice.html#450" class="Module">SliceObj</a> <a id="738" href="Categories.Category.Slice.html#633" class="Bound">Y</a>
  <a id="742" class="Keyword">field</a>
    <a id="752" class="Symbol">{</a><a id="Slice⇒.h"></a><a id="753" href="Categories.Category.Slice.html#753" class="Field">h</a><a id="754" class="Symbol">}</a> <a id="756" class="Symbol">:</a> <a id="758" href="Categories.Category.Slice.html#525" class="Function">X.Y</a> <a id="762" href="Categories.Category.Core.html#508" class="Field Operator">⇒</a> <a id="764" href="Categories.Category.Slice.html#525" class="Function">Y.Y</a>
    <a id="Slice⇒.△"></a><a id="772" href="Categories.Category.Slice.html#772" class="Field">△</a>   <a id="776" class="Symbol">:</a> <a id="778" href="Categories.Category.Slice.html#538" class="Function">Y.arr</a> <a id="784" href="Categories.Category.Core.html#589" class="Field Operator">∘</a> <a id="786" href="Categories.Category.Slice.html#753" class="Field">h</a> <a id="788" href="Categories.Category.Core.html#528" class="Field Operator">≈</a> <a id="790" href="Categories.Category.Slice.html#538" class="Function">X.arr</a>

<a id="Slice"></a><a id="797" href="Categories.Category.Slice.html#797" class="Function">Slice</a> <a id="803" class="Symbol">:</a> <a id="805" href="Categories.Category.Core.html#492" class="Field">Obj</a> <a id="809" class="Symbol">→</a> <a id="811" href="Categories.Category.Core.html#375" class="Record">Category</a> <a id="820" class="Symbol">_</a> <a id="822" class="Symbol">_</a> <a id="824" class="Symbol">_</a>
<a id="826" href="Categories.Category.Slice.html#797" class="Function">Slice</a> <a id="832" href="Categories.Category.Slice.html#832" class="Bound">A</a>       <a id="840" class="Symbol">=</a> <a id="842" class="Keyword">record</a>
  <a id="851" class="Symbol">{</a> <a id="853" href="Categories.Category.Core.html#492" class="Field">Obj</a>       <a id="863" class="Symbol">=</a> <a id="865" href="Categories.Category.Slice.html#450" class="Record">SliceObj</a> <a id="874" href="Categories.Category.Slice.html#832" class="Bound">A</a>
  <a id="878" class="Symbol">;</a> <a id="880" href="Categories.Category.Core.html#508" class="Field Operator">_⇒_</a>       <a id="890" class="Symbol">=</a> <a id="892" href="Categories.Category.Slice.html#613" class="Record">Slice⇒</a>
  <a id="901" class="Symbol">;</a> <a id="903" href="Categories.Category.Core.html#528" class="Field Operator">_≈_</a>       <a id="913" class="Symbol">=</a> <a id="915" class="Symbol">λ</a> <a id="917" class="Keyword">where</a>
    <a id="927" class="Symbol">(</a><a id="928" href="Categories.Category.Slice.html#683" class="InductiveConstructor">slicearr</a> <a id="937" class="Symbol">{</a><a id="938" href="Categories.Category.Slice.html#938" class="Bound">f</a><a id="939" class="Symbol">}</a> <a id="941" class="Symbol">_)</a> <a id="944" class="Symbol">(</a><a id="945" href="Categories.Category.Slice.html#683" class="InductiveConstructor">slicearr</a> <a id="954" class="Symbol">{</a><a id="955" href="Categories.Category.Slice.html#955" class="Bound">g</a><a id="956" class="Symbol">}</a> <a id="958" class="Symbol">_)</a> <a id="961" class="Symbol">→</a> <a id="963" href="Categories.Category.Slice.html#938" class="Bound">f</a> <a id="965" href="Categories.Category.Core.html#528" class="Field Operator">≈</a> <a id="967" href="Categories.Category.Slice.html#955" class="Bound">g</a>
  <a id="971" class="Symbol">;</a> <a id="973" href="Categories.Category.Core.html#563" class="Field">id</a>        <a id="983" class="Symbol">=</a> <a id="985" href="Categories.Category.Slice.html#683" class="InductiveConstructor">slicearr</a> <a id="994" href="Categories.Category.Core.html#1078" class="Field">identityʳ</a>
  <a id="1006" class="Symbol">;</a> <a id="1008" href="Categories.Category.Core.html#589" class="Field Operator">_∘_</a>       <a id="1018" class="Symbol">=</a> <a id="1020" href="Categories.Category.Slice.html#1320" class="Function Operator">_∘′_</a>
  <a id="1027" class="Symbol">;</a> <a id="1029" href="Categories.Category.Core.html#648" class="Field">assoc</a>     <a id="1039" class="Symbol">=</a> <a id="1041" href="Categories.Category.Core.html#648" class="Field">assoc</a>
  <a id="1049" class="Symbol">;</a> <a id="1051" href="Categories.Category.Core.html#937" class="Field">sym-assoc</a> <a id="1061" class="Symbol">=</a> <a id="1063" href="Categories.Category.Core.html#937" class="Field">sym-assoc</a>
  <a id="1075" class="Symbol">;</a> <a id="1077" href="Categories.Category.Core.html#1029" class="Field">identityˡ</a> <a id="1087" class="Symbol">=</a> <a id="1089" href="Categories.Category.Core.html#1029" class="Field">identityˡ</a>
  <a id="1101" class="Symbol">;</a> <a id="1103" href="Categories.Category.Core.html#1078" class="Field">identityʳ</a> <a id="1113" class="Symbol">=</a> <a id="1115" href="Categories.Category.Core.html#1078" class="Field">identityʳ</a>
  <a id="1127" class="Symbol">;</a> <a id="1129" href="Categories.Category.Core.html#1272" class="Field">identity²</a> <a id="1139" class="Symbol">=</a> <a id="1141" href="Categories.Category.Core.html#1272" class="Field">identity²</a>
  <a id="1153" class="Symbol">;</a> <a id="1155" href="Categories.Category.Core.html#1317" class="Field">equiv</a>     <a id="1165" class="Symbol">=</a> <a id="1167" class="Keyword">record</a> <a id="1174" class="Comment">-- must be expanded to get levels to work out</a>
    <a id="1224" class="Symbol">{</a> <a id="1226" href="Relation.Binary.Structures.html#1568" class="Field">refl</a>  <a id="1232" class="Symbol">=</a> <a id="1234" href="Relation.Binary.Structures.html#1568" class="Function">refl</a>
    <a id="1243" class="Symbol">;</a> <a id="1245" href="Relation.Binary.Structures.html#1594" class="Field">sym</a>   <a id="1251" class="Symbol">=</a> <a id="1253" href="Relation.Binary.Structures.html#1594" class="Function">sym</a>
    <a id="1261" class="Symbol">;</a> <a id="1263" href="Relation.Binary.Structures.html#1620" class="Field">trans</a> <a id="1269" class="Symbol">=</a> <a id="1271" href="Relation.Binary.Structures.html#1620" class="Function">trans</a>
    <a id="1281" class="Symbol">}</a>
  <a id="1285" class="Symbol">;</a> <a id="1287" href="Categories.Category.Core.html#1371" class="Field">∘-resp-≈</a>  <a id="1297" class="Symbol">=</a> <a id="1299" href="Categories.Category.Core.html#1371" class="Field">∘-resp-≈</a>
  <a id="1310" class="Symbol">}</a>
  <a id="1314" class="Keyword">where</a> <a id="1320" href="Categories.Category.Slice.html#1320" class="Function Operator">_∘′_</a> <a id="1325" class="Symbol">:</a> <a id="1327" href="Categories.Category.Slice.html#613" class="Record">Slice⇒</a> <a id="1334" href="Categories.Category.Slice.html#588" class="Generalizable">Y</a> <a id="1336" href="Categories.Category.Slice.html#590" class="Generalizable">Z</a> <a id="1338" class="Symbol">→</a> <a id="1340" href="Categories.Category.Slice.html#613" class="Record">Slice⇒</a> <a id="1347" href="Categories.Category.Slice.html#586" class="Generalizable">X</a> <a id="1349" href="Categories.Category.Slice.html#588" class="Generalizable">Y</a> <a id="1351" class="Symbol">→</a> <a id="1353" href="Categories.Category.Slice.html#613" class="Record">Slice⇒</a> <a id="1360" href="Categories.Category.Slice.html#586" class="Generalizable">X</a> <a id="1362" href="Categories.Category.Slice.html#590" class="Generalizable">Z</a>
        <a id="1372" href="Categories.Category.Slice.html#1320" class="Function Operator">_∘′_</a> <a id="1377" class="Symbol">{</a><a id="1378" class="Argument">Y</a> <a id="1380" class="Symbol">=</a> <a id="1382" href="Categories.Category.Slice.html#503" class="InductiveConstructor">sliceobj</a> <a id="1391" href="Categories.Category.Slice.html#1391" class="Bound">y</a><a id="1392" class="Symbol">}</a> <a id="1394" class="Symbol">{</a><a id="1395" class="Argument">Z</a> <a id="1397" class="Symbol">=</a> <a id="1399" href="Categories.Category.Slice.html#503" class="InductiveConstructor">sliceobj</a> <a id="1408" href="Categories.Category.Slice.html#1408" class="Bound">z</a><a id="1409" class="Symbol">}</a> <a id="1411" class="Symbol">{</a><a id="1412" class="Argument">X</a> <a id="1414" class="Symbol">=</a> <a id="1416" href="Categories.Category.Slice.html#503" class="InductiveConstructor">sliceobj</a> <a id="1425" href="Categories.Category.Slice.html#1425" class="Bound">x</a><a id="1426" class="Symbol">}</a> <a id="1428" class="Symbol">(</a><a id="1429" href="Categories.Category.Slice.html#683" class="InductiveConstructor">slicearr</a> <a id="1438" class="Symbol">{</a><a id="1439" href="Categories.Category.Slice.html#1439" class="Bound">g</a><a id="1440" class="Symbol">}</a> <a id="1442" href="Categories.Category.Slice.html#1442" class="Bound">△</a><a id="1443" class="Symbol">)</a> <a id="1445" class="Symbol">(</a><a id="1446" href="Categories.Category.Slice.html#683" class="InductiveConstructor">slicearr</a> <a id="1455" class="Symbol">{</a><a id="1456" href="Categories.Category.Slice.html#1456" class="Bound">f</a><a id="1457" class="Symbol">}</a> <a id="1459" href="Categories.Category.Slice.html#1459" class="Bound">△′</a><a id="1461" class="Symbol">)</a> <a id="1463" class="Symbol">=</a> <a id="1465" href="Categories.Category.Slice.html#683" class="InductiveConstructor">slicearr</a> <a id="1474" href="Function.Base.html#1538" class="Function Operator">$</a> <a id="1476" href="Relation.Binary.Reasoning.Base.Partial.html#1660" class="Function Operator">begin</a>
          <a id="1492" href="Categories.Category.Slice.html#1408" class="Bound">z</a> <a id="1494" href="Categories.Category.Core.html#589" class="Field Operator">∘</a> <a id="1496" href="Categories.Category.Slice.html#1439" class="Bound">g</a> <a id="1498" href="Categories.Category.Core.html#589" class="Field Operator">∘</a> <a id="1500" href="Categories.Category.Slice.html#1456" class="Bound">f</a> <a id="1502" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">≈⟨</a> <a id="1505" href="Categories.Morphism.Reasoning.Core.html#1587" class="Function">pullˡ</a> <a id="1511" href="Categories.Category.Slice.html#1442" class="Bound">△</a> <a id="1513" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">⟩</a>
          <a id="1525" href="Categories.Category.Slice.html#1391" class="Bound">y</a> <a id="1527" href="Categories.Category.Core.html#589" class="Field Operator">∘</a> <a id="1529" href="Categories.Category.Slice.html#1456" class="Bound">f</a>     <a id="1535" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">≈⟨</a> <a id="1538" href="Categories.Category.Slice.html#1459" class="Bound">△′</a> <a id="1541" href="Relation.Binary.Reasoning.PartialSetoid.html#797" class="Function">⟩</a>
          <a id="1553" href="Categories.Category.Slice.html#1425" class="Bound">x</a>         <a id="1563" href="Relation.Binary.Reasoning.Base.Single.html#767" class="Function Operator">∎</a>
</pre></body></html>